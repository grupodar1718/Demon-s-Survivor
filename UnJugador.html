<!--
* Created by Dario Gonz涇ez Fern烱dez y Adri烱 Soriano Valencia.
*/-->
<!DOCTYPE html>

<html>

	<head>

		<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
		<title>Demon's Survivor</title>
		<link rel="stylesheet" type="text/css" href="estilo.css">
		<link rel="shortcut icon" type="image/png" href="..\JuegoWeb\Botones\favicon.png"/>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
		
	</head>

	<body background="background4.jpg">
		<br>
		
		<div>			
			<canvas id="playground" width="800" height="800"></canvas> <!--Revisar- Si se borra el cuadrado se deforma.-->
			
			<div id="interfaz">
			<p id="puntuacion"> Puntuaci칩n </p>			
			
				<div id="contComienzo">
					<img id="level" src="..\JuegoWeb\Botones\nivel1.png">
					<img id="bcomenzar" src="..\JuegoWeb\Botones\bcomenzar.png" style="cursor:url(cursorPointer.png), pointer">				
				</div>	
			</div>
			
		</div>
		<div>
		<footer id="autores">Copyright 춸 Ra칰l Ca침o, Dar칤o Gonz치lez y Adri치n Soriano.</footer>
		</div>
		
		<script src="app.js"></script>
		<script language="JavaScript"></script>
		<script>
			$(document).ready(function(){
			
				var parameters = location.search.substring(1).split("&").toString();
				console.log(parameters);
				if(parameters ==="EN"){
					english();
				}
				
				else{
					spanish();
				}

				function english(){
					$('#pausa').attr('src',"Botones/pause.png");
					$('#level').attr('src',"Botones/level1.png");
					$('#bcomenzar').attr('src',"Botones/bstart.png");
					$("a[href='UnJugador.html?ES']").attr('href', 'UnJugador.html?EN');
					$("a[href='DosJugadores.html?ES']").attr('href', 'DosJugadores.html?EN');
					$("a[href='Main.html?ES']").attr('href', 'Main.html?EN');
				}
				
				function spanish(){
					$('#pausa').attr('src',"Botones/pausa.png");
					$('#level').attr('src',"Botones/nivel1.png");
					$('#bcomenzar').attr('src',"Botones/bcomenzar.png");
					$("a[href='UnJugador.html?ES']").attr('href', 'UnJugador.html?ES');
					$("a[href='DosJugadores.html?ES']").attr('href', 'DosJugadores.html?ES');
					$("a[href='Main.html?EN']").attr('href', 'Main.html?ES');
				}

				$("#bcomenzar").click(function(){
					$("#bcomenzar, #level").fadeOut( "slow", function() {
						$("#bcomenzar, #level").remove();
						$("#interfaz").fadeIn( "slow", function() {
							$("#interfaz").append('<img id="bpause" src="Botones/bpause.png" style="cursor:url(cursorPointer.png), pointer">').children(':last').hide().fadeIn("slow");
						});
					});										
				});	
					
				$("#interfaz").on('click','#bpause', function(){
					parameters = location.search.substring(1).split("&").toString();
					if(parameters ==="ES"){
						$("#interfaz").append('<div id="intPause"/>');
						$("#interfaz").append('<img id="pausa" src="Botones/pausa.png"/>');
						$("#interfaz").append('<div id="divreiniciar"><img id="breiniciar" src="Botones/breiniciar.png" style="cursor:url(cursorPointer.png), pointer"/></div>');
						$("#interfaz").append('<div id="divsalir"><img id="bsalir" src="Botones/bsalir.png" style="cursor:url(cursorPointer.png), pointer"/></div>');
						$("#interfaz").append('<div id="divvolver"><img id="bv" src="Botones/bvolver.png" style="cursor:url(cursorPointer.png), pointer"/></div>');
					}				
					else{
						$("#interfaz").append('<div id="intPause"/>');
						$("#interfaz").append('<img id="pausa" src="Botones/pause.png"/>');
						$("#interfaz").append('<div id="divreiniciar"><img id="breiniciar" src="Botones/brestart.png" style="cursor:url(cursorPointer.png), pointer"/></div>');
						$("#interfaz").append('<div id="divsalir"><img id="bsalir" src="Botones/bexit.png" style="cursor:url(cursorPointer.png), pointer"/></div>');
						$("#interfaz").append('<div id="divvolver"><img id="bv" src="Botones/breturn.png" style="cursor:url(cursorPointer.png), pointer"/></div>');
					}					
				});
				
				$("#interfaz").on('click','#breiniciar', function(){					
					$("#breiniciar, #bsalir, #bv, #divreiniciar, #divsalir, #divvolver").remove();
					if(parameters ==="ES"){
						$("#interfaz").append('<img id="reiniciar" src="Botones/reiniciar.png"/>');
						$("#interfaz").append('<div id="divconfirmar"><img id="bsi" src="Botones/bsi.png" style="cursor:url(cursorPointer.png), pointer"/><img id="bno" src="Botones/bno.png" style="cursor:url(cursorPointer.png), pointer"/></div>');
					}
					else{
						$("#interfaz").append('<img id="reiniciar" src="Botones/restart.png"/>');
						$("#interfaz").append('<div id="divconfirmar"><img id="bsi" src="Botones/byes.png" style="cursor:url(cursorPointer.png), pointer"/><img id="bno" src="Botones/bno.png" style="cursor:url(cursorPointer.png), pointer"/></div>');
					}
				});
				
				$("#interfaz").on('click','#bsi', function(){					
					//fundido a negro y reiniciar nivel.
				});
				
				$("#interfaz").on('click','#bno', function(){
					$("#reiniciar, #salir, #divconfirmar, #bsi, #bno, #divreiniciar, #divsalir, #divvolver").remove();
					if(parameters ==="ES"){						
						$("#interfaz").append('<div id="divreiniciar"><img id="breiniciar" src="Botones/breiniciar.png" style="cursor:url(cursorPointer.png), pointer"/></div>');
						$("#interfaz").append('<div id="divsalir"><img id="bsalir" src="Botones/bsalir.png" style="cursor:url(cursorPointer.png), pointer"/></div>');
						$("#interfaz").append('<div id="divvolver"><img id="bv" src="Botones/bvolver.png" style="cursor:url(cursorPointer.png), pointer"/></div>');
					}
					else{
						$("#interfaz").append('<div id="divreiniciar"><img id="breiniciar" src="Botones/brestart.png" style="cursor:url(cursorPointer.png), pointer"/></div>');
						$("#interfaz").append('<div id="divsalir"><img id="bsalir" src="Botones/bexit.png" style="cursor:url(cursorPointer.png), pointer"/></div>');
						$("#interfaz").append('<div id="divvolver"><img id="bv" src="Botones/breturn.png" style="cursor:url(cursorPointer.png), pointer"/></div>');
					}
				});
				
				$("#interfaz").on('click','#bsalir', function(){					
					$("#breiniciar, #bsalir, #bv, #divreiniciar, #divsalir, #divvolver").remove();
					if(parameters ==="ES"){
						$("#interfaz").append('<img id="salir" src="Botones/salir.png"/>');
						$("#interfaz").append('<div id="divconfirmar"><img id="bsisalir" src="Botones/bsi.png" style="cursor:url(cursorPointer.png), pointer"/><img id="bno" src="Botones/bno.png" style="cursor:url(cursorPointer.png), pointer"/></div>');
					}
					else{
						$("#interfaz").append('<img id="salir" src="Botones/exit.png"/>');
						$("#interfaz").append('<div id="divconfirmar"><img id="bsisalir" src="Botones/byes.png" style="cursor:url(cursorPointer.png), pointer"/><img id="bno" src="Botones/bno.png" style="cursor:url(cursorPointer.png), pointer"/></div>');					
					}
				});
				
				$("#interfaz").on('click','#bsisalir', function(){
					if(parameters ==="ES"){
						$(location).attr('href', 'Main.html?ES')
					}
					else{
						$(location).attr('href', 'Main.html?EN')
					}
				});
				
				$("#interfaz").on('click','#bv', function(){					
					$("#pausa, #reiniciar, #salir, #intPause, #divconfirmar, #bsi, #bno, #divreiniciar, #divsalir, #divvolver").remove();
					//gameloop start
				});
				var finale;
				//GAME OVER
				if (finale == false){
					parameters = location.search.substring(1).split("&").toString();
					if(parameters ==="ES"){
						$("#interfaz").append('<div id="intPause"/>');
						$("#interfaz").append('<img id="pausa" src="Botones/gameover.png"/>');
						$("#interfaz").append('<img id="punt" src="Botones/puntuacion.png"/>');
						//Poner puntuacion
						//Si consigue mejor puntuacion que alguna del top10 se pide nombre.
						$("#interfaz").append('<div id="divgameover"><img id="breintentarover" src="Botones/breintentar.png" style="cursor:url(cursorPointer.png), pointer"/><img id="bpuntuacionesover" src="Botones/bpuntuaciones.png" style="cursor:url(cursorPointer.png), pointer"/></div>');					
					}				
					else{
						$("#interfaz").append('<div id="intPause"/>');
						$("#interfaz").append('<img id="pausa" src="Botones/gameover.png"/>');
						$("#interfaz").append('<img id="punt" src="Botones/score.png"/>');
						//
						//
						$("#interfaz").append('<div id="divgameover"><img id="breintentarover" src="Botones/btryagain.png" style="cursor:url(cursorPointer.png), pointer"/><img id="bpuntuacionesover" src="Botones/bscores.png" style="cursor:url(cursorPointer.png), pointer"/><img id="bsalirover" src="Botones/bexit.png" style="cursor:url(cursorPointer.png), pointer"/></div>');
					}
				}
				
				$("#interfaz").on('click','#breintentarover', function(){					
					//reiniciar gameloop;
				});
				
				$("#interfaz").on('click','#bpuntuacionesover', function(){					
					$("#punt, #pausa, #gameover, #breintentarover, #divgameover, #bsalirover, #bpuntuacionesover").remove();
					if(parameters ==="ES"){
						$("#interfaz").append('<img id="bestscore" src="Botones/mejorespuntuaciones.png"/>');
						//poner puntuaciones
						$("#interfaz").append('<div id="divvolverscore"><img id="bvolverscore" src="Botones/bvolver.png" style="cursor:url(cursorPointer.png), pointer"/></div>');
					}
					else{
						$("#interfaz").append('<img id="bestscore" src="Botones/bestscores.png"/>');
						//poner puntuaciones
						$("#interfaz").append('<div id="divvolverscore"><img id="bvolverscore" src="Botones/breturn.png" style="cursor:url(cursorPointer.png), pointer"/></div>');
					}
				});
				
				$("#interfaz").on('click','#bvolverscore', function(){
					$("#bestscore, #divvolverscore, #bvolverscore").remove();
					if(parameters ==="ES"){						
						$("#interfaz").append('<img id="pausa" src="Botones/gameover.png"/>');
						$("#interfaz").append('<img id="punt" src="Botones/puntuacion.png"/>');
						//Poner puntuacion
						//Si consigue mejor puntuacion que alguna del top10 se pide nombre.
						$("#interfaz").append('<div id="divgameover"><img id="breintentarover" src="Botones/breintentar.png" style="cursor:url(cursorPointer.png), pointer"/><img id="bpuntuacionesover" src="Botones/bpuntuaciones.png" style="cursor:url(cursorPointer.png), pointer"/><img id="bsalirover" src="Botones/bsalir.png" style="cursor:url(cursorPointer.png), pointer"/></div>');
					}
					else{
						$("#interfaz").append('<img id="pausa" src="Botones/gameover.png"/>');
						$("#interfaz").append('<img id="punt" src="Botones/score.png"/>');
						//Poner puntuacion
						//Si consigue mejor puntuacion que alguna del top10 se pide nombre.
						$("#interfaz").append('<div id="divgameover"><img id="breintentarover" src="Botones/btryagain.png" style="cursor:url(cursorPointer.png), pointer"/><img id="bpuntuacionesover" src="Botones/bscores.png" style="cursor:url(cursorPointer.png), pointer"/><img id="bsalirover" src="Botones/bexit.png" style="cursor:url(cursorPointer.png), pointer"/></div>');
					}
				});
				
				$("#interfaz").on('click','#bsalirover', function(){
					if(parameters ==="ES"){
						$(location).attr('href', 'Main.html?ES')
					}
					else{
						$(location).attr('href', 'Main.html?EN')
					}
				});

				//LevelComplete
				if (finale == true){
					parameters = location.search.substring(1).split("&").toString();
					if(parameters ==="ES"){
						$("#interfaz").append('<div id="intPause"/>');
						$("#interfaz").append('<img id="levelcomplete" src="Botones/nivelcompletado.png"/>');
						$("#interfaz").append('<img id="punt" src="Botones/puntuacion.png"/>');
						//Poner puntuacion
						//Si consigue mejor puntuacion que alguna del top10 se pide nombre.
						$("#interfaz").append('<div id="divgameover"><img id="breiniciarcompleted" src="Botones/breiniciar.png" style="cursor:url(cursorPointer.png), pointer"/><img id="bsalircompleted" src="Botones/bsalir.png" style="cursor:pointer"/><img id="bnextcompleted" src="Botones/bsiguiente.png" style="cursor:url(cursorPointer.png), pointer"/></div>');					
					}				
					else{
						$("#interfaz").append('<div id="intPause"/>');
						$("#interfaz").append('<img id="levelcomplete" src="Botones/levelcompleted.png"/>');
						$("#interfaz").append('<img id="punt" src="Botones/score.png"/>');
						//
						//
						$("#interfaz").append('<div id="divgameover"><img id="breiniciarcompleted" src="Botones/brestart.png" style="cursor:url(cursorPointer.png), pointer"/><img id="bsalircompleted" src="Botones/bexit.png" style="cursor:url(cursorPointer.png), pointer"/><img id="bnextcompleted" src="Botones/bnext.png" style="cursor:url(cursorPointer.png), pointer"/></div>');
					}
				}
				
				$("#interfaz").on('click','#breiniciarcompleted', function(){					
					//reiniciar gameloop;
				});
				
				$("#interfaz").on('click','#bsalircompleted', function(){					
					if(parameters ==="ES"){
						$(location).attr('href', 'Main.html?ES')
					}
					else{
						$(location).attr('href', 'Main.html?EN')
					}
				});
				
				$("#interfaz").on('click','#bnextcompleted', function(){
					parameters = location.search.substring(1).split("&").toString();
					if(parameters ==="ES"){
						$("#bnextcompleted, #intPause, #levelcomplete, #punt,#divgameover,#breiniciarcompleted,#bsalircompleted").remove();
						$('#pausa').attr('src',"Botones/pause.png");
						$('#level').attr('src',"Botones/nivel2.png");
						$('#bcomenzar').attr('src',"Botones/bcomenzar.png");
					}
					else{
						$("#bnextcompleted, #intPause, #levelcomplete, #punt,#divgameover,#breiniciarcompleted,#bsalircompleted").remove();
						$('#pausa').attr('src',"Botones/pause.png");
						$('#level').attr('src',"Botones/level2.png");
						$('#bcomenzar').attr('src',"Botones/bstart.png");
					}
				});
				
			});	
		</script>
		
	</body>
	
</html>